# Kintone カスタマイズ・プロジェクト

このリポジトリは、KintoneアプリのJavaScriptカスタマイズ・ソースコードを管理するためのものです。

## 管理アプリ一覧

### 1. 販売取引報告アプリ（一括ファイルダウンロード機能）
一覧画面から添付ファイルを一括でリネームしてダウンロードする機能を提供します。

- **ファイルパス**: `apps/販売取引報告/BusinessPlan_File_Download.js`
- **主な機能**: 
  - **自動リネーム**: ダウンロード時にファイル名を「物件名＋号室号室.拡張子」へ自動的に書き換えます。
  - **重複防止ロジック**: 同一の「物件名＋号室」が一覧に存在する場合、二重にダウンロードされないようスキップ処理を行います。
  - **安定性向上（スロットリング）**: ブラウザの制限や負荷を考慮し、10件ごとに3秒の待機時間を設けることで、大量のファイル保存を安定させています。
  - **カスタムダイアログ**: 処理完了後、保存した物件と重複スキップした物件を一覧形式で分かりやすく表示します。

- **設定が必要な箇所**:
  - `VIEW_NAME`: 対象とする一覧画面の名前（デフォルト：経理課確認）。
  - `FILE_FIELD`: 添付ファイルフィールドのフィールドコード（デフォルト：事業計画書_0）。

## 技術的特徴
- `XMLHttpRequest` と `Blob` を用いたバイナリデータの直接取得。
- `Set` オブジェクトによる高速な重複チェック。
- `setTimeout` を組み合わせた非同期ループによる実行制御。
- `DOM` 操作によるスクロール可能なカスタム結果通知画面の実装。